<!DOCTYPE html>
<html>
<head>
    <title>Previsioni del Meteo</title>
    <link rel="stylesheet" href="static/css/style.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin=""/>

     <style>
        #map {
            width: 500px;
            height: 500px;
            margin: 0 auto;
        }
     </style>
</head> 

<body>
    <div id="map"></div>


    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
        crossorigin=""></script>
        
    <script type="text/javascript">
        let latitudine = 41.90232532873592
let longitudine = 12.497842943480652


navigator.geolocation.getCurrentPosition(function (event) {
		console.log("L'utente ha accettato")
        console.log(event)
        latitudine = event.coords.latitude
        longitudine = event.coords.longitude
        createMap()
	},

    function(event){
        createMap()
    }

	)


function createMap() {
	let map = L.map('map').setView([latitudine, longitudine], 12);
    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
    attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
}).addTo(map);
}

    </script>

</body>
</html>